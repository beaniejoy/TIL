# Functional Programming

## 왜 배워야 하는가

- 책: `자바 개발자를 위한 함수형 프로그래밍` 참고

### 동시성 이슈
- 여러 기기들과 컴퓨터들이 등장하면서 멀티 CPU를 가지는 것들이 많아짐
- 이런 상호아에서 동시성 이슈를 해결하면서 안정적인 소프트웨어를 개발하는 것에 대한 중요성이 높아졌다.
- 데이터의 상태를 변경하는 *객체 지향 프로그래밍 방식으로 동시성 문제를 해결하는 데는 한계가 존재*

### 데이터 관리 부담
- 대용량 데이터 다루는 상황이 많아짐, 대용량 데이터 처리할 때 데이터를 개체로 변환하는데 따른 부담이 크다.
- 대용량 데이터를 처리할 수 있는 효율적인 데이터 구조와 데이터 연산이 필요

### 함수형 프로그래밍은 모듈화
- 객체 단위의 모듈화는 가장 작은 단위의 모듈화가 아님
- 함수형 프로그래밍의 함수를 모듈화할 경우 수 많은 곳에 재사용할 수 있다.
- 함수형 프로그래밍은 더 유용하고, 재사용이 편리, 구성이 용이, 테스트하기 더 간편한 추상화를 제공

함수형 프로그래밍을 학습하면 문제에 접근하는 방법, 문제를 작은 단위로 쪼개는 방법, 설계하는 과정, 프로그래밍하는 순서에서 새로운 시각을 배울 수 있다.

<br>

## 명령형 프로그래밍 vs 선언형 프로그래밍

- 명령형 프로그래밍(Imperative programming)
  - 프로그래밍의 상태와 상태를 변경시키는 구문의 관점으로 접근하는 프로그래밍 방식
  - 컴퓨터가 실행할 명령들을 실행 순서대로 구현해야 함
  - 대부분의 객체 지향 프로그래밍 언어가 명령형 프로그래밍 언어
  - 알고리즘 처리 작업에 적합(순차적임)
```java
public int getPoint(Customer customer) {
  for (int i = 0; i < customers.size(); i++) {
    Customer c = customers.get(i);
    if (customer.equals(c)) {
      return c.getPoint();
    }
  }

  return NO_DATA;
}
```
- 선언형 프로그래밍(Declarative programming)
  - 선언으로만 프로그래밍 동작
  - 프로그램을 실행하기 위해 구체적인 작동 순서를 나열하지 않아도 됨
  - HTML, XML, SQL, Haskell 등이 있다.
```java
public int getPoint(Customer customer) {
  if (isRegisteredCustomer(customer)) {
    return findCustomer(customer).getPoint();
  } else {
    return NO_DATA;
  }
}
```

> 완전하지 않아도 Functional Programming을 활용해 일 정 수준의 선언형 프로그래밍이 가능  
> 즉, FP는 선언형 프로그램이의 한 종류로 봐도 된다.

<br>

## 함수형 프로그래밍 특징
- 변경 불가능한 값 활용(immutable value)
  - LottoNumber 같은 VO 객체들
  - 멀티 스레드 프로그래밍에서 동시성 이슈 리스크 줄어든다.
- 1등 시민으로서의 함수
  - 함수형 프로그래밍에서는 함수가 1등 시민의 역할을 한다.
  - 함수를 1등 시민으로 활용이 가능할 경우 함수를 함수의 인자로 받거나 함수의 반환 값으로 활용하는 것이 가능
- 람다와 클로저
  - 람다는 익명함수의 다른 표현. 즉, 함수는 함수인데 이름이 없는 경우
- 고계함수(higher-order functions)
  - 다른 함수를 인수로 받아들이거나 함수를 리턴하는 함수
  - **자바 메소드는 인수나 반환 값으로 primitive type과 객체만 사용 가능**

> 여기서 1급 시민이란 다음 조건 충족하는 것을 뜻함
> - 변수에 담을 수 있다.
> - 함수의 인자로 전달 가능
> - 함수의 반환값으로 전달 가능
> 1급 시민, 1급 객체, 1급 함수 비슷한데 1급 함수는 위의 조건에 더해 **런타임에 생성 가능, 익명으로 생성 가능** 두 개 조건도 포함

- 부수 효과(side effect)가 없는 함수
  - 함수가 불변인 특징을 가지기 때문에 함수를 사용하는 입장에서 특별한 부수효과가 발생하지 않는다.
  - 따라서 멀티 스레드 환경에서 안정적인 프로그래밍도 가능

<br>

## 객체 지향 프로그래밍
프로그래밍의 기본 틀은 OOP 기반,  
메소드 내부 구현은 FP 지향,   
객체의 상태 관리는 immutable object 지향