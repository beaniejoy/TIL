# [Network] pod container간 통신

Multi Container Pod  
여러 컨테이너가 동시에 실행되는 Pod

기본적으로 같은 파드 안에 컨테이너라 할지라도 데이터 공유가 안된다.  
volume 같은 경우도 파드 내에 설정하면 container들이 공유할 수 있도록 설정 가능  
or IPC 등 하지만 이런 방식은 잘 사용 X  

같은 volume을 mount해서 저장공간을 공유하거나 네트워크를 통해서 통신하는 것 정도로 나눌 수 있다.

**같은 파드 안의 여러 컨테이너들은 기본적으로 같은 namespace의 네트워크를 사용**

하나의 파드 내에 있는 컨테이너들은 같은 호스트를 사용한다. 서로 컨테이너끼리 통신하기 위해 `localhost 주소(127.0.0.1)`로 통신하면 된다.(원래는 container 끼리 공유가 안되는데 kube pod에서 열어준 느낌)  

만약 하나의 파드 안에 같은 포트로 애플리케이션을 여러 개의 컨테이너를 띄우려고 하면 이미 port 사용중이라는 오류가 발생할 것이다. (약간 하나의 컴퓨터처럼 파드를 사용하는 느낌인 것 같다.)

## Pod 내부 통신 정리

같은 Pod에 위치한 컨테이너는 같은 네트워크 네임스페이스를 가진다.

같은 파드안에서는 같은 운영체제 안에서 프로세스를 구성한다라는 느낌으로 기억하는 것이 좋다.

컨테이너 간 통신은 TCP 이외의 모든 프로토콜을 사용할 수 있음