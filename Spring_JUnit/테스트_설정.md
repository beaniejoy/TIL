# 테스트 설정

## @RunWith

- `@RunWith` 는 JUnit4에서 사용되는 것으로 JUnit 프레임워크의 테스트 실행 방법을 확장할 때 사용
- `SpringJUnit4ClassRunner`라는 테스트 컨텍스트 프레임워크 확장 클래스가 존재
  - 이것을 확장하면 JUnit이 테스트 진행하는 중에 테스트가 사용할 ApplicationContext 생성과 관리하는 작업을 진행해줌
  - `@ContextConfiguration`: 자동으로 만들어질 ApplicationContext의 설정파일 위치를 지정
- 스프링 JUnit 확장기능은 테스트가 실행되기 전에 딱 한번만 ApplicationContext를 만들어두고, 테스트 오브젝트가 만들어질 때 마다 ApplicationContext를 테스트 오브젝트 특정 필드에 주입

## @SpringBootTest

- JUnit4 사용시 `@RunWith(SpringRunner.class)`를 사용했었음
- JUnit5 사용시 `@ExtendWith`로 변경되었는데 `@SpringBootTest`를 사용하면 생략 가능

```java
// JUnit4
@RunWith(SpringRunner.class)
class ControllerTest {
...
}

// JUnit5
// @ExtendWith(SpringExtension.class)
@SpringBootTest
@AutoConfigureMockMvc
class ControllerTest {
...
}
```

```java
@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Inherited
@BootstrapWith(SpringBootTestContextBootstrapper.class)
@ExtendWith({SpringExtension.class})
public @interface SpringBootTest {
    @AliasFor("properties")
    String[] value() default {};
...
}
```